// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const config = {
    // –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    bot: {
        token: process.env.BOT_TOKEN,
        polling: {
            interval: 300,
            autoStart: true,
            params: {
                timeout: 10
            }
        }
    },
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ VirusTotal API
    virustotal: {
        apiKey: process.env.VIRUSTOTAL_API_KEY,
        baseUrl: 'https://www.virustotal.com/api/v3',
        limits: {
            maxFileSize: 32 * 1024 * 1024, // 32MB
            maxRequestsPerMinute: 4, // –õ–∏–º–∏—Ç –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ API
            analysisTimeout: 300000 // 5 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º –Ω–∞ –∞–Ω–∞–ª–∏–∑
        }
    },
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
    server: {
        port: process.env.PORT || 3000,
        host: '0.0.0.0'
    },
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–æ–≤
    files: {
        tempDir: './temp',
        allowedExtensions: [
            '.exe', '.dll', '.msi', '.deb', '.rpm', '.dmg',
            '.pdf', '.doc', '.docx', '.xls', '.xlsx', '.ppt', '.pptx',
            '.zip', '.rar', '.7z', '.tar', '.gz',
            '.jpg', '.jpeg', '.png', '.gif', '.bmp', '.svg',
            '.js', '.html', '.css', '.php', '.py', '.java',
            '.apk', '.ipa', '.jar'
        ]
    },
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
    timeouts: {
        analysisCheck: 10000, // 10 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
        maxAnalysisTime: 300000, // 5 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
        httpRequest: 30000 // 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
    },
    
    // –°–æ–æ–±—â–µ–Ω–∏—è
    messages: {
        welcome: `ü§ñ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ VirusTotal Bot!*

–Ø –ø–æ–º–æ–≥—É –≤–∞–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã, —Å—Å—ã–ª–∫–∏ –∏ IP-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –≤–∏—Ä—É—Å—ã –∏ —É–≥—Ä–æ–∑—ã.

*–ß—Ç–æ —è —É–º–µ—é:*
üìÅ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∞–π–ª—ã (–¥–æ 32MB)
üîó –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å URL-–∞–¥—Ä–µ—Å–∞
üåê –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å IP-–∞–¥—Ä–µ—Å–∞

*–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:*
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å—Ç–µ IP-–∞–¥—Ä–µ—Å

*–ö–æ–º–∞–Ω–¥—ã:*
/start - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
/help - –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
/status - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞`,
        
        help: `‚ÑπÔ∏è *–ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é*

*–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤:*
‚Ä¢ –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã (.exe, .dll, .msi)
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã (.pdf, .doc, .docx)
‚Ä¢ –ê—Ä—Ö–∏–≤—ã (.zip, .rar, .7z)
‚Ä¢ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (.jpg, .png, .gif)
‚Ä¢ –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (.apk, .ipa)
‚Ä¢ –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ

*–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:*
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 32MB
‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è

*–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:*
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–∏–µ
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://example.com
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: 8.8.8.8

*–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:*
‚Ä¢ –§–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞
‚Ä¢ –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API VirusTotal`,
        
        unknownFormat: `‚ùì *–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö*

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ:
‚Ä¢ üìÅ –§–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
‚Ä¢ üîó –í–∞–ª–∏–¥–Ω—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: https://example.com)
‚Ä¢ üåê IP-–∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 8.8.8.8)

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏.`
    }
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
function validateConfig() {
    const required = ['BOT_TOKEN', 'VIRUSTOTAL_API_KEY'];
    const missing = required.filter(key => !process.env[key]);
    
    if (missing.length > 0) {
        console.error('‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:');
        missing.forEach(key => console.error(`   - ${key}`));
        process.exit(1);
    }
    
    console.log('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞');
}

module.exports = { config, validateConfig };
